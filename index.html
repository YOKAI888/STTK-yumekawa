<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸŒ¸ã‚¹ãƒ†ã‚¿ã‚¯ã®å¤¢ã‹ã‚èŒç³¸ãƒ¯ãƒ¼ãƒ«ãƒ‰ğŸŒ¸</title>
  <style>
    /* ---- animations ---- */
    @keyframes float { 
      0%,100% { transform: translateY(0) translateX(0) rotate(0deg); } 
      25% { transform: translateY(-25px) translateX(-15px) rotate(-3deg); } 
      50% { transform: translateY(-40px) translateX(15px) rotate(3deg); } 
      75% { transform: translateY(-20px) translateX(-10px) rotate(-2deg); } 
    }
    @keyframes sparkle { 0% { opacity: 0.8; } 50% { opacity: 1; } 100% { opacity: 0.8; } }
    @keyframes grow { 
      from { transform: scale(0) rotate(-60deg); opacity: 0; } 
      to { transform: scale(1) rotate(0); opacity: 1; } 
    }
    @keyframes spores {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-900px) scale(0); opacity: 0; }
    }

    /* ---- base / font ---- */
    html,body {
      height:100%;
      margin:0;
      padding:0;
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    body {
      font-family: "Hiragino Maru Gothic ProN", "Rounded Mplus 1c", "Comic Sans MS", "Yu Gothic UI", sans-serif;
      background: linear-gradient(135deg,#ffe6f9 0%,#e6ccff 50%,#cc99ff 100%);
      color:#ff8fcf;
      text-align:center;
      padding:20px 16px;
      box-sizing:border-box;
      min-height:100vh;
    }

    /* ---- header ---- */
    h1 {
      margin: 6px 0 8px 0;
      font-size:2.6rem;
      line-height:1.05;
      letter-spacing:4px;
      margin-top:6px;
    }

    /* gradient title is put in its own span to avoid clipping child elements */
    .title-gradient {
      display:inline-block;
      background: -webkit-linear-gradient(left,#ff66cc,#cc66ff,#ff99ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow:0 0 25px rgba(255,105,180,0.65);
      animation: sparkle 1.8s infinite;
    }

    /* small subtitle kept separate and plain so browsers never hide it */
    .subtitle {
      display:inline-block;
      font-size:0.55em;
      vertical-align:middle;
      color: rgba(255,190,230,0.95);
      text-shadow:0 0 8px rgba(255,102,204,0.45);
      margin-left:0.45rem;
    }

    .guide {
      font-size:1.1rem;
      color:#fff;
      background: linear-gradient(45deg,#ff99cc,#ff66cc);
      padding:12px 26px;
      border-radius:36px;
      display:inline-block;
      margin:12px auto;
      box-shadow:0 0 18px rgba(255,182,193,0.6), inset 0 0 10px #fff;
      text-shadow:0 0 8px #ff3399;
      animation:sparkle 1.6s infinite;
      font-weight:700;
    }

    /* ---- mycelium container ---- */
    #mycelium {
      position: relative;
      height: 72vh;
      max-height: 820px;
      min-height: 420px;
      border: 4px dashed rgba(255,182,193,0.6);
      background: rgba(255,255,255,0.14);
      border-radius: 28px;
      box-shadow: 0 0 50px rgba(255,105,180,0.35);
      overflow: visible; /* allow spores/hearts to fly out */
      margin: 20px auto;
      max-width: 1100px;
      width: calc(100% - 40px);
    }

    /* ---- mushroom ---- */
    .mushroom {
      position: absolute;
      width: 120px;
      height: 160px;
      background: radial-gradient(ellipse at top,#ffffff 0%,#ffccff 25%,#ff99cc 60%,#ff6699 100%);
      border-radius: 70% 70% 55% 55% / 80% 80% 50% 50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:14px;
      color:#fff;
      font-weight:700;
      cursor:pointer;
      animation: grow 2.2s ease-out, float 6s infinite ease-in-out;
      transform-origin:bottom;
      box-shadow: 0 0 35px #ff99cc, inset 0 0 30px #fff, 0 0 60px rgba(255,105,180,0.35);
      text-shadow: 0 0 8px #ff3399;
      transition: all 0.45s ease;
      z-index: 10;
      transform: translateY(10px); /* little sink so stem appears partially hidden */
    }
    .mushroom:hover {
      transform: scale(1.5) rotate(20deg);
      filter: drop-shadow(0 0 30px #ff3399);
      z-index: 30;
    }
    .mushroom::before {
      content: 'ğŸŒ¸';
      position:absolute;
      top:-26px;
      left:50%;
      transform:translateX(-50%);
      font-size:32px;
      animation:sparkle 1.3s infinite;
      text-shadow:0 0 15px #ff66cc;
    }
    .mushroom::after {
      content:'';
      position:absolute;
      bottom:-20px; /* slightly raised so stem is partly hidden */
      left:50%;
      transform:translateX(-50%);
      width:22px;height:40px;
      background:linear-gradient(to bottom,#ff99cc,#ff6699);
      border-radius:11px;
      box-shadow:0 0 20px #ff66cc;
    }

    /* particles/hearts */
    .heart {
      position:absolute;
      font-size:18px;
      animation: spores 3s ease-out forwards;
      text-shadow:0 0 10px #ff3399;
      pointer-events:none;
      z-index:5;
    }

    /* responsive tweaks */
    @media (max-width:600px) {
      h1 { font-size:1.6rem; letter-spacing:2px; }
      .mushroom { width:92px; height:120px; font-size:12px; }
    }
  </style>
</head>
<body>
  <h1>
    <span class="title-gradient">ğŸŒ¸ã‚¹ãƒ†ã‚¿ã‚¯ã®å¤¢ã‹ã‚èŒç³¸ç•ŒéšˆğŸŒ¸</span>
    <span class="subtitle">ï¼ˆã‚¹ãƒ†ã‚¿ã‚¯ï¼æ•°å­¦å“²å­¦ã‚ªã‚¿ã‚¯ï¼‰</span>
  </h1>

  <div class="guide">ã¤ãã—ã«ã—ã‹è¦‹ãˆãªã„ãã‚…ã‚“ğŸ’—ãªãã®ã“ã‚’ã‚¿ãƒƒãƒã—ã¦ã€æ„›ã®èƒå­ã‚’é£›ã°ã—ãªã‚ˆï¼ˆã€€Â´_ã‚`ï¼‰</div>

  <div id="mycelium" aria-hidden="false"></div>

  <script>
    // concepts array (kept fun)
    const concepts = [
      "ã‚«ãƒ³ãƒˆã®ãã‚…ã‚“å‘½æ³•","ãƒ‹ãƒ¼ãƒã‚§ã®ãƒ‰ã‚­ãƒ‰ã‚­å›å¸°","è˜å­ã®ã‚†ã‚ã‚†ã‚å¤¢",
      "ãƒ©ãƒ—ãƒ©ã‚¹ã®è„³æ­»æ‚ªé­”","ã‚²ãƒ¼ãƒ‡ãƒ«ã®ãµã‚ãµã‚å®šç†","ãƒ”ã‚¿ã‚´ãƒ©ã‚¹ã®ãƒãƒ¼ãƒˆå®šç†",
      "ã‚«ã‚ªã‚¹ãã‚…ã‚“ç†è«–","ã‚ªã‚¤ãƒ©ãƒ¼ã®ãƒ©ãƒ–å…¬å¼","ç„¡é™ãƒ‰ã‚­ãƒ‰ã‚­æ³•",
      "ã‚¹ãƒ†ã‚¿ã‚¯ã®ãã‚…ã‚“è¦šé†’","èŒæ ¹ãƒãƒ¼ãƒˆé©å‘½","è„³ã‚’æ­»ãªã™æ„›ã®èƒå­","è„³å‘³å™ŒãŠèŠ±ç•‘",
      "è„³ãã‚…ã‚“çˆ†ç™º","ãµã‚ãµã‚è„³é©å‘½","ãƒãƒ¼ãƒˆèŒæ ¹","è„³æ­»ã«ã‚ˆã‚Šç››ã‚Šé«˜å¢—é‡ä¸­â¤ï¸",
      "ãã‚…ã‚“ã¯å®šç¾©æ¸ˆã¿å¤‰æ•°ã ãã‚…ã‚“â¤ï¸","ãã‚…ã‚“ã¯è¦³æ¸¬èª¤å·®ã ãã‚…ã‚“"
    ];

    const container = document.getElementById('mycelium');

    function createHeart(x,y,dx,dy,rot,ttl=3000){
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerText = 'ğŸ’—';
      heart.style.left = (x) + 'px';
      heart.style.top = (y) + 'px';
      heart.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;
      container.appendChild(heart);
      setTimeout(()=> heart.remove(), ttl);
    }

    function growMushroom(){
      const mush = document.createElement('div');
      mush.className = 'mushroom';
      // position within container using percentages
      const x = Math.random() * 70 + 10; // left %
      const y = Math.random() * 55 + 10; // bottom %
      mush.style.left = x + '%';
      mush.style.bottom = y + '%';
      mush.innerText = concepts[Math.floor(Math.random()*concepts.length)];
      mush.title = 'è§¦ã£ã¨ã‘ã ãã‚…ã‚“ğŸ’—';

      // click/tap behavior
      mush.addEventListener('click', (ev)=>{
        // compute container-relative coords for particle spawn
        const rect = container.getBoundingClientRect();
        const mushRect = mush.getBoundingClientRect();
        const baseX = mushRect.left - rect.left + mushRect.width/2;
        const baseY = mushRect.top - rect.top + mushRect.height/2;

        // spawn fewer particles to avoid heavy load, but looks nice
        const particles = 18;
        for(let i=0;i<particles;i++){
          const dx = (Math.random()-0.5) * 260;
          const dy = (Math.random()-0.5) * 260;
          const rot = Math.random()*720;
          createHeart(baseX, baseY, dx, dy, rot, 3000 + Math.random()*1200);
        }

        // visual mushroom pop
        mush.innerHTML = 'ãã‚…ã‚“ğŸ’—';
        mush.style.transition = 'transform 0.5s ease, opacity 1.2s ease';
        mush.style.transform = 'scale(1.8) rotate(540deg)';
        setTimeout(()=>{
          mush.style.transition = 'all 1.2s';
          mush.style.transform = 'scale(0) translateY(-600px)';
          mush.style.opacity = '0';
          setTimeout(()=> { if(mush.parentNode) mush.remove(); }, 1200);
        }, 500);

        // tweet intent (opens in new tab)
        const tweet = `ã€ã‚¹ãƒ†ã‚¿ã‚¯ãã‚…ã‚“èƒå­ã€‘${mush.innerText} #ã‚¹ãƒ†ã‚¿ã‚¯ #å¤¢ã‹ã‚`;
        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(tweet)}`, '_blank');
      });

      container.appendChild(mush);

      // auto-remove after a while to not accumulate too many items
      setTimeout(()=>{
        if(mush.parentNode){
          mush.style.transition = 'all 4s ease';
          mush.style.opacity = '0';
          mush.style.transform = 'scale(0.5) translateY(-200px) rotate(180deg)';
          setTimeout(()=> { if(mush.parentNode) mush.remove(); }, 4000);
        }
      }, 18000);
    }

    // initial + interval (randomized)
    setTimeout(growMushroom, 500);
    setInterval(growMushroom, 3000 + Math.random()*3000);
  </script>
</body>
</html>