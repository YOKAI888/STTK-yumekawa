<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸŒ¸ã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆãƒ»ã‚¹ãƒ†ãƒ«ã‚¹å“ä¸Šè¨ˆç®—æ©ŸğŸŒ¸</title>
  <style>
    /* ---- å…ˆè¼©æ³¨æ–‡ï¼šå‹•ãã®ã‚ã‚‹ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ ---- */
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    #bg-canvas {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
      background: linear-gradient(-45deg, #fff0f6, #ffdeeb, #ffc1e3, #ffd1dc);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }

    html,body { height:100%; margin:0; padding:0; overflow-x:hidden; -webkit-font-smoothing:antialiased; }
    body { font-family: "Hiragino Maru Gothic ProN", "Rounded Mplus 1c", sans-serif; color:#ff66aa; text-align:center; padding:20px 16px; }

    h1 { font-size:2.4rem; letter-spacing:4px; margin:10px 0; }
    .title-gradient {
      background: -webkit-linear-gradient(left,#ff3399,#ff66cc,#ff3399);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow:0 0 20px rgba(255,105,180,0.5);
    }

    .guide {
      font-size:1rem; color:#fff; background: linear-gradient(45deg,#ff85bc,#ff52a2);
      padding:10px 24px; border-radius:36px; display:inline-block;
      margin-bottom:20px; box-shadow:0 0 15px rgba(255,105,180,0.4);
      font-weight:700;
    }

    #mycelium {
      position: relative; height: 70vh; max-width: 1100px;
      margin: 0 auto; border: 4px dashed rgba(255,182,193,0.5);
      background: rgba(255,255,255,0.2); border-radius: 28px;
      overflow: hidden;
    }

    /* ğŸ„ ç­‘ç´«æœ¬ä½“ */
    .mushroom {
      position: absolute; width: 100px; height: 130px;
      background: radial-gradient(ellipse at top,#ffffff 0%,#ffccff 25%,#ff99cc 60%,#ff6699 100%);
      border-radius: 70% 70% 55% 55% / 80% 80% 50% 50%;
      display:flex; align-items:center; justify-content:center;
      font-size:12px; color:#fff; font-weight:700; cursor:pointer;
      box-shadow: 0 0 30px #ff99cc, inset 0 0 20px #fff;
      transition: bottom 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 2s ease, transform 0.3s ease;
      z-index: 10; padding: 10px; box-sizing: border-box;
      opacity: 1;
    }

    .mushroom::before { content: 'ğŸŒ¸'; position: absolute; top: -35px; left: 50%; transform: translateX(-50%); font-size: 35px; text-shadow: 0 0 10px #ff66cc; }
    .mushroom::after { content: 'ç«º'; position: absolute; bottom: -48px; left: 50%; transform: translateX(-50%); font-size: 42px; color: #ff6699; text-shadow: 0 0 8px #fff; opacity: 0.9; font-weight: normal; }

    .mushroom:hover { transform: scale(1.1); z-index: 20; }
    .heart { position:absolute; font-size:24px; pointer-events:none; z-index:30; text-shadow:0 0 10px #ff3399; }
  </style>
</head>
<body>
  <canvas id="bg-canvas"></canvas>
  <h1><span class="title-gradient">ğŸŒ¸ã‚¹ãƒ†ãƒ«ã‚¹å“ä¸Šè¨ˆç®—æ©Ÿã¸ã‚ˆã†ã“ãğŸŒ¸</span></h1>
  <div class="guide">ã¤ãã—ã«è§¦ã‚Œã‚‹ã ã‘ã§ããŸã°ã‚‹è„³ç´°èƒã€ãã—ã¦Xã¸ãã‚…ã‚“ï¼ˆã€€Â´_ã‚`ï¼‰</div>
  <div id="mycelium"></div>

  <script>
    const container = document.getElementById('mycelium');
    const concepts = ["ã‚«ãƒ³ãƒˆã®ãã‚…ã‚“è„³æ­»å‘½æ³•ğŸ’—","ãƒ‹ãƒ¼ãƒã‚§ã®ãƒ‰ã‚­ãƒ‰ã‚­å›å¸°ğŸ’—","æ­»ã—ãŸè„³ç´°èƒã®åˆ—ãƒ™ã‚¯ãƒˆãƒ«ğŸ’—","ãƒ©ãƒ—ãƒ©ã‚¹ã®è„³æ­»æ‚ªé­”ğŸ’—","ã‚²ãƒ¼ãƒ‡ãƒ«ã®ãµã‚ãµã‚å®šç†ğŸ’—","ãƒ”ã‚¿ã‚´ãƒ©ã‚¹ã®ãƒãƒ¼ãƒˆå®šç†ğŸ’—","ã‚ªã‚¤ãƒ©ãƒ¼ã®ãƒ©ãƒ–å…¬å¼ğŸ’•","ã‚·ãƒ¥ãƒ¬ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã®ãã‚…ã‚“ğŸ’•","è„³æ­»ã®ãã‚…ã‚“çš„å¸°ç´æ³•ğŸ’•","ãƒ”ã‚¿ã‚´ãƒ©ã‚¹ã®è„³æ­»å®šç†ğŸ’•","ãƒ•ãƒ¼ãƒªã‚¨ç´šæ•°ã¨è¦‹ã›ã‹ã‘ã¦ã®è„³æ­»ğŸ’•","éƒ¨åˆ†åˆ†æ•°åˆ†è§£ã®æœ«ã«è„³æ­»ğŸ’•","è„³æ­»è€…ã®ãƒ¦ãƒ‹ã‚¿ãƒªè¡Œåˆ—ğŸ’•","è„³æ­»ã®ä½™å› å­ğŸ’•","ãƒ©ãƒ–ãƒªãƒ¼ãƒ»ãƒ©ã‚¸ã‚¢ãƒ³ãƒ»ã‚³ãƒ³ãƒ—ãƒ¬ãƒƒã‚¯ã‚¹ğŸ’•",];

    function easeOutQuart(x) { return 1 - Math.pow(1 - x, 4); }

    function createHeartIQ200(startX, startY, power = 1) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerText = 'ğŸ’—';
      container.appendChild(heart);

      const duration = 1000 + Math.random() * 1000;
      const startTime = performance.now();
      const targetX = (Math.random() - 0.5) * (400 * power);
      const targetY = -(Math.random() * (400 * power) + 100);
      const targetRot = (Math.random() - 0.5) * 500;

      function animate(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const eased = easeOutQuart(progress);
        const x = startX + targetX * eased;
        const y = startY + targetY * eased;
        const rot = targetRot * eased;
        heart.style.transform = `translate(${x}px, ${y}px) rotate(${rot}deg) scale(${0.8 + eased})`;
        heart.style.opacity = 1 - progress;
        if (progress < 1) requestAnimationFrame(animate);
        else heart.remove();
      }
      requestAnimationFrame(animate);
    }

    function growMushroom() {
      const mush = document.createElement('div');
      mush.className = 'mushroom';
      mush.style.left = (Math.random() * 80 + 10) + '%';
      mush.style.bottom = '-200px'; 
      const currentConcept = concepts[Math.floor(Math.random() * concepts.length)];
      mush.innerText = currentConcept;
      container.appendChild(mush);

      // ç”Ÿãˆã‚‹ã‚¢ãƒ‹ãƒ¡
      setTimeout(() => { mush.style.bottom = (Math.random() * 60 + 10) + '%'; }, 50);

      // --- å…ˆè¼©æ³¨æ–‡ï¼šã‚ªãƒ³ãƒã‚¦ã‚¹ã§ãƒãƒ¼ãƒˆä¹±èˆ ---
      mush.onmouseenter = () => {
        const rect = container.getBoundingClientRect();
        const mRect = mush.getBoundingClientRect();
        for(let i=0; i<5; i++) createHeartIQ200(mRect.left - rect.left + 50, mRect.top - rect.top, 0.5);
      };

      mush.onclick = (e) => {
        const rect = container.getBoundingClientRect();
        const mRect = mush.getBoundingClientRect();
        for(let i=0; i<20; i++) createHeartIQ200(mRect.left - rect.left + 50, mRect.top - rect.top, 1.5);
        
        const tweet = `ğŸ’•ã‚†ã‚ã‹ã‚ã”ã¿ã°ã“ğŸ’•${currentConcept} #ã‚­ãƒ¥ãƒ³ã¤ã„ã§ã«è„³æ­»`;
        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(tweet)}`, '_blank');
        
        mush.style.transform = 'scale(0) rotate(720deg)';
        mush.style.opacity = '0';
        setTimeout(() => { if(mush.parentNode) mush.remove(); }, 500);
      };

      // --- å…ˆè¼©æ³¨æ–‡ï¼šæ¶ˆãˆã‚‹æ™‚ã«ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ ---
      setTimeout(() => { 
        if(mush.parentNode) { 
          mush.style.opacity = '0'; 
          mush.style.transform = 'translateY(-50px) scale(0.8)';
          setTimeout(()=> { if(mush.parentNode) mush.remove(); }, 2000); 
        } 
      }, 12000);
    }

    setInterval(growMushroom, 3000);
    growMushroom();

    // èƒŒæ™¯ã‚°ãƒªãƒƒãƒ‰ï¼ˆè–„ãæ®‹ã™ã®ãŒIQ200ã®å—œã¿ï¼‰
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();
    function drawGrid() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.strokeStyle = 'rgba(255,255,255,0.1)';
      const size = 150;
      for(let x=0; x<canvas.width+size; x+=size) {
        for(let y=0; y<canvas.height+size; y+=size) {
          ctx.beginPath(); ctx.moveTo(x, y); ctx.lineTo(x+size, y+size); ctx.moveTo(x+size, y); ctx.lineTo(x, y+size); ctx.stroke();
        }
      }
    }
    drawGrid();
  </script>
</body>
</html>